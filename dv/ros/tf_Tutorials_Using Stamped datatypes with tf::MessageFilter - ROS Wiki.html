<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>

<meta name="google-site-verification" content="CjkdY6BqKWAVmQ78_iSq6J7ZZ9AoL7-CjFVBYGg9FU4">
<link rel="shortcut icon" href="http://wiki.ros.org/custom/favicon.ico" type="image/ico">
<link rel="stylesheet" href="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/bootstrap.css">
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/4c8610d177"></script><script src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/nr-1071.js"></script><script type="text/javascript" async="" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/ga.js"></script><script src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/jquery-1.js"></script>
<script src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/bootstrap.js"></script>
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/sorttable.js"></script>
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/jquery.js"></script>                         
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/seesaw.js"></script> 
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/rosversion.js"></script> 
<!--script type="text/javascript" src="/custom/libraries/RGraph.common.core.js" ></script Used for metrics only, should be conditional, not at the top-->
<!--script type="text/javascript" src="/custom/libraries/RGraph.bar.js" ></script same as above -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17821189-2']);
  _gaq.push(['_setDomainName', 'wiki.ros.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"4c8610d177","agent":"","transactionName":"NFZaMEVUV0ZVBkBeCQ0cbRZeGk1TG08=","applicationID":"3371695","errorBeacon":"bam.nr-data.net","applicationTime":182}</script>
<meta name="robots" content="index,nofollow">

<title>tf/Tutorials/Using Stamped datatypes with tf::MessageFilter - ROS Wiki</title>
<script type="text/javascript" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/rostheme/css/msie.css">
<![endif]-->




<link rel="canonical" href="http://wiki.ros.org/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter">

<link rel="Start" href="http://wiki.ros.org/Documentation">
<link rel="Alternate" title="Wiki Markup" href="http://wiki.ros.org/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf::MessageFilter?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wiki.ros.org/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf::MessageFilter?action=print">
<link rel="Up" href="http://wiki.ros.org/tf/Tutorials">
<link rel="Search" href="http://wiki.ros.org/FindPage">
<link rel="Index" href="http://wiki.ros.org/TitleIndex">
<link rel="Glossary" href="http://wiki.ros.org/WordIndex">
<link rel="Help" href="http://wiki.ros.org/HelpOnFormatting">
</head>

<body dir="ltr" lang="en">

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5950817-2");
pageTracker._trackPageview();
} catch(err) {}</script>

<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
if(f) f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
if(e) {
  searchChange(e);
  searchBlur(e);
}

function handleSubmit() {
  var f = document.getElementById('searchform');
  var t = document.getElementById('searchinput');
  var r = document.getElementById('real_searchinput');

  //alert("handleSubmit "+ t.value);
  if(t.value.match(/review/)) {
    r.value = t.value;
  } else {
    //r.value = t.value + " -PackageReviewCategory -StackReviewCategory -M3Review -DocReview -ApiReview -HelpOn -BadContent -LocalSpellingWords";
    r.value = t.value + " -PackageReviewCategory -StackReviewCategory -DocReview -ApiReview";
  }
  //return validate(f);
}
//-->
</script>

<div id="dpage">
  <div id="dpage-inner">
    <div id="header"><div id="topnav">

<!-- Alert box -->
<!-- To enable/disable the alert box, uncomment/comment the block below and update the content below the button. -->
<!--
    <div class="alert alert-info alert-dismissable" style="text-align: center;">
<script>
jQuery(function( $ ){
    alert_box_name = 'roswiki_roscon'
    state = localStorage.getItem(alert_box_name);
    if (!state) {
      localStorage.setItem(alert_box_name, 'open');
    }
    state = localStorage.getItem(alert_box_name);
    if (state == 'closed') {
        $( '#topnav .alert' ).hide();
    }
    $( '.close' ).click(function () {
	console.log('in .close.click');
        localStorage.setItem(alert_box_name, 'closed');
        $( '#topnav .alert' ).hide();
  });
});
</script>
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <a href="http://roscon.ros.org">ROSCon 2017</a> will be in Vancouver, September 21-22! <br>
      The last few years have sold out: register now and take advantage of discounted hotel rates</a>.
    </div>
-->
<!-- End Alert box -->

      <table id="topnav-table">
        <tbody><tr>
          <td width="300" valign="top"><a href="http://wiki.ros.org/"><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/ros_org.png" alt="ros.org" width="238" height="51" border="0"></a></td>
          <td width="500" valign="middle">
            <a href="http://www.ros.org/about-ros">About</a>
            |
            <a href="http://wiki.ros.org/Support">Support</a>
            |
            <a href="http://discourse.ros.org/">Discussion Forum</a>
            |
            <a href="http://status.ros.org/">Service Status</a>
            |
            <a href="http://answers.ros.org/">Q&amp;A answers.ros.org</a>

<!--<a href="http://roscon.ros.org/2016/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/roscon_wiki_header.jpg" width="133" height="65" alt="ROSCon 2016" /></a>
-->

<!-- <a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://ros.org/images/ros_kong_2014_badge.png" width="133" height="38" alt="roskong" /></a>
-->
<!--a href="https://events.osrfoundation.org/ros-kong-2014/"><img align="middle" style="padding-left: 15px;" src="http://imgur.com/eMzUJVe.png" width="133" height="38" alt="roskong" /></a-->
          </td>

          <td valign="middle" align="right">

<script language="Javascript">

function Searchy(theButton){

theForm = theButton.form;
newID = theForm.input.value;
theForm.q.value = newID;
theForm.input.value=theForm.input.value

}
</script>


<form action="http://www.ros.org/search/index.html" id="cse">
  <div>
    <label>Search:</label>
    <input name="cx" value="018259903093183594226:txvzw9fat6w" type="hidden">
    <input name="cof" value="FORID:11;NB:1" type="hidden">
    <input name="filter" value="0" type="hidden">
    <input name="num" value="10" type="hidden">

    <input name="ie" value="UTF-8" type="hidden">
    <input name="input" id="input" autocomplete="on" style="width: 35%" type="text">
    <input name="q" value="" type="hidden">
    <input name="sa" value="Submit" onclick="Searchy(this)" type="submit">

  </div>
</form>

         </td>
      </tr>
      <tr>
        <td colspan="3" width="1024" height="53"><nobr><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_left.png" alt="" width="17" height="53"><a href="http://wiki.ros.org/"><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_documentation.png" alt="Documentation" width="237" height="53" border="0"></a><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://www.ros.org/browse/"><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_browse_software.png" alt="Browse Software" width="268" height="53" border="0"></a><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://www.ros.org/news"><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_news.png" alt="News" width="84" height="53" border="0"></a><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_spacer.png" width="69" height="53"><a href="http://wiki.ros.org/ROS/Installation"><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_download.png" alt="Download" width="151" height="53" border="0"></a><img src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/menu_right.png" width="60" height="53"></nobr></td>

      </tr>
    </tbody></table> <!-- topnav-table -->

    </div> <!-- /#topav -->
  </div> <!-- /#header -->


<div id="header2">

<ul id="pagelocation">
<li><a href="http://wiki.ros.org/tf">tf</a></li><li><a href="http://wiki.ros.org/tf/Tutorials">Tutorials</a></li><li><a class="backlink" href="http://wiki.ros.org/action/fullsearch/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter?action=fullsearch&amp;context=180&amp;value=linkto%3A%22tf%2FTutorials%2FUsing+Stamped+datatypes+with+tf%3A%3AMessageFilter%22" rel="nofollow" title="Click to do a full-text search for this title">Using Stamped datatypes with tf::MessageFilter</a></li>
</ul>

<div id="locationline">
</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wiki.ros.org/Distributions">Distributions</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Installation">ROS/Installation</a></li><li class="wikilink"><a href="http://wiki.ros.org/ROS/Tutorials">ROS/Tutorials</a></li><li class="wikilink"><a href="http://wiki.ros.org/RecentChanges">RecentChanges</a></li><li class="current"><a href="http://wiki.ros.org/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter">Using Stamp...ssageFilter</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wiki.ros.org/action/info/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wiki.ros.org/action/AttachFile/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf::MessageFilter">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" selected="selected">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="show" disabled="disabled" class="disabled">Delete Cache</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="RenamePage" disabled="disabled" class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled="disabled" class="disabled">Delete Page</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled="disabled" class="disabled">Subscribe User</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="show" disabled="disabled" class="disabled">Remove Spam</option>
<option value="show" disabled="disabled" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="CreatePdfDocument">CreatePdfDocument</option>
<option value="Load">Load</option>
<option value="RawFile">RawFile</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://wiki.ros.org/action/login/tf/Tutorials/Using%20Stamped%20datatypes%20with%20tf%3A%3AMessageFilter?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" dir="ltr" lang="en">

<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line867"><span class="anchor" id="line-1-1"></span><span class="anchor" id="line-2-1"></span></p><div><table><tbody><tr>  <td style="background-color: #cce0ff"><strong>Note:</strong> This tutorial assumes you have completed the <strong>learning tf</strong> tutorials.. </td>
</tr>
</tbody></table></div><span class="anchor" id="line-3-1"></span><span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span><span class="anchor" id="line-6-1"></span><div><table><tbody><tr>  <td style="background-color: #bbceee"> <img alt="(!)" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/idea.png" title="(!)" width="15" height="15"> Please ask about problems and questions regarding this tutorial on <a class="http" href="http://answers.ros.org/">answers.ros.org</a>.
 Don't forget to include in your question the link to this page, the 
versions of your OS &amp; ROS, and also add appropriate tags.</td>
</tr>
</tbody></table></div><span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><span class="anchor" id="line-9-1"></span>
<h1 id="Using_Stamped_datatypes_with_tf::MessageFilter">Using Stamped datatypes with tf::MessageFilter</h1>
<span class="anchor" id="line-10-1"></span><strong>Description:</strong> This tutorial describes how to use <a href="http://wiki.ros.org/tf">tf</a>::MessageFIlter to process Stamped datatypes.<br>
<br>
 <span class="anchor" id="line-11-1"></span><span class="anchor" id="line-12-1"></span><span class="anchor" id="line-13-1"></span><span class="anchor" id="line-14-1"></span><strong>Tutorial Level:</strong>  INTERMEDIATE <br>
 <br>
 <span class="anchor" id="line-15-1"></span><span class="anchor" id="line-16-1"></span><span class="anchor" id="line-17-1"></span><p class="line874"> <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></p><p class="line874">This tutorial explains how to use sensor data with tf. Some real-world examples of sensor data are: <span class="anchor" id="line-27"></span></p><ul><li>cameras, both mono and stereo <span class="anchor" id="line-28"></span></li><li>laser scans <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></li></ul><p class="line862">Suppose
 that a new turtle named turtle3 is created and it doesn't have good 
odometry, but there is an overhead camera tracking its position and 
publishing it as a <a href="http://docs.ros.org/api/geometry_msgs/html/msg/PointStamped.html">geometry_msgs/PointStamped</a> message in relation to the world frame.  <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span></p><p class="line874">Turtle 1 wants to know where turtle3 is compared to itself.   <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><p class="line862">To
 do this turtle1 must listen to the topic where turtle3's pose is being 
published, wait until transforms into the desired frame are ready, and 
then do its operations.  To make this easier the tf::MessageFilter class
 is very useful.  The tf::MessageFilter will take a subscription to any 
ros Message with a Header and cache it until it is possible to transform
 it into the target frame.   <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span></p><p class="line867">
</p><h2 id="Setup">Setup</h2>
<span class="anchor" id="line-37"></span><p class="line867"><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><pre><span class="anchor" id="line-1-2"></span>roslaunch turtle_tf turtle_tf_sensor.launch </pre><span class="anchor" id="line-40"></span><p class="line874">This will bring up turtle 1 to drive and turtle3 moving on its own.   <span class="anchor" id="line-41"></span>There is a topic turtle_pose_stamped with a <a href="http://docs.ros.org/api/geometry_msgs/html/msg/PoseStamped.html">geometry_msgs/PoseStamped</a> data type stating turtle3's position in the world frame.   <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><p class="line874">To get the streaming data in the frame of turtle1 reliably we will use the following code:  <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-1-3"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a90def7a417261c54548cf28ac710ee50b7f5e70\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-a90def7a417261c54548cf28ac710ee50b7f5e70', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_1">   1</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_1"></span><span class="anchor" id="line-1-4"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_2">   2</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_2"></span><span class="anchor" id="line-2-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "tf</span><span class="Preprc">/</span><span class="Preprc">transform_listener.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_3">   3</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_3"></span><span class="anchor" id="line-3-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "tf</span><span class="Preprc">/</span><span class="Preprc">message_filter.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_4">   4</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_4"></span><span class="anchor" id="line-4-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "message_filters</span><span class="Preprc">/</span><span class="Preprc">subscriber.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_5">   5</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_5"></span><span class="anchor" id="line-5-2"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_6">   6</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_6"></span><span class="anchor" id="line-6-2"></span><span class="ResWord">class</span> <span class="ID">PoseDrawer</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_7">   7</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_7"></span><span class="anchor" id="line-7-2"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_8">   8</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_8"></span><span class="anchor" id="line-8-2"></span><span class="ResWord">public</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_9">   9</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_9"></span><span class="anchor" id="line-9-2"></span>  <span class="ID">PoseDrawer</span>() : <span class="ID">tf_</span>(),  <span class="ID">target_frame_</span>(<span class="String">"</span><span class="String">turtle1</span><span class="String">"</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_10">  10</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_10"></span><span class="anchor" id="line-10-2"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_11">  11</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_11"></span><span class="anchor" id="line-11-2"></span>    <span class="ID">point_sub_</span>.<span class="ID">subscribe</span>(<span class="ID">n_</span>, <span class="String">"</span><span class="String">turtle_point_stamped</span><span class="String">"</span>, <span class="Number">10</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_12">  12</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_12"></span><span class="anchor" id="line-12-2"></span>    <span class="ID">tf_filter_</span> = <span class="ResWord">new</span> <span class="ID">tf</span>::<span class="ID">MessageFilter</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt;(<span class="ID">point_sub_</span>, <span class="ID">tf_</span>, <span class="ID">target_frame_</span>, <span class="Number">10</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_13">  13</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_13"></span><span class="anchor" id="line-13-2"></span>    <span class="ID">tf_filter_</span>-&gt;<span class="ID">registerCallback</span>( <span class="ID">boost</span>::<span class="ID">bind</span>(&amp;<span class="ID">PoseDrawer</span>::<span class="ID">msgCallback</span>, <span class="ResWord">this</span>, <span class="ID">_1</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_14">  14</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_14"></span><span class="anchor" id="line-14-2"></span>  } ;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_15">  15</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_15"></span><span class="anchor" id="line-15-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_16">  16</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_16"></span><span class="anchor" id="line-16-2"></span><span class="ResWord">private</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_17">  17</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_17"></span><span class="anchor" id="line-17-2"></span>  <span class="ID">message_filters</span>::<span class="ID">Subscriber</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt; <span class="ID">point_sub_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_18">  18</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_18"></span><span class="anchor" id="line-18-1"></span>  <span class="ID">tf</span>::<span class="ID">TransformListener</span> <span class="ID">tf_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_19">  19</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_19"></span><span class="anchor" id="line-19-1"></span>  <span class="ID">tf</span>::<span class="ID">MessageFilter</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt; * <span class="ID">tf_filter_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_20">  20</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_20"></span><span class="anchor" id="line-20-1"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_21">  21</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_21"></span><span class="anchor" id="line-21-1"></span>  <span class="ID">std</span>::<span class="ID">string</span> <span class="ID">target_frame_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_22">  22</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_22"></span><span class="anchor" id="line-22-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_23">  23</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_23"></span><span class="anchor" id="line-23-1"></span>  <span class="Comment">//  Callback to register with tf::MessageFilter to be called when transforms are available</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_24">  24</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_24"></span><span class="anchor" id="line-24-1"></span><span class="Comment"></span>  <span class="ResWord">void</span> <span class="ID">msgCallback</span>(<span class="ResWord">const</span> <span class="ID">boost</span>::<span class="ID">shared_ptr</span>&lt;<span class="ResWord">const</span> <span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt;&amp; <span class="ID">point_ptr</span>) </span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_25">  25</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_25"></span><span class="anchor" id="line-25-1"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_26">  26</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_26"></span><span class="anchor" id="line-26-1"></span>    <span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span> <span class="ID">point_out</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_27">  27</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_27"></span><span class="anchor" id="line-27-1"></span>    <span class="ResWord">try</span> </span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_28">  28</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_28"></span><span class="anchor" id="line-28-1"></span>    {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_29">  29</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_29"></span><span class="anchor" id="line-29-1"></span>      <span class="ID">tf_</span>.<span class="ID">transformPoint</span>(<span class="ID">target_frame_</span>, *<span class="ID">point_ptr</span>, <span class="ID">point_out</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_30">  30</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_30"></span><span class="anchor" id="line-30-1"></span>      </span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_31">  31</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_31"></span><span class="anchor" id="line-31-1"></span>      <span class="ID">printf</span>(<span class="String">"</span><span class="String">point of turtle 3 in frame of turtle 1 Position(x:%f y:%f z:%f)</span><span class="SPChar">\n</span><span class="String">"</span>, </span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_32">  32</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_32"></span><span class="anchor" id="line-32-1"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">x</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_33">  33</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_33"></span><span class="anchor" id="line-33-1"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">y</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_34">  34</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_34"></span><span class="anchor" id="line-34-1"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">z</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_35">  35</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_35"></span><span class="anchor" id="line-35-1"></span>    }</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_36">  36</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_36"></span><span class="anchor" id="line-36-1"></span>    <span class="ResWord">catch</span> (<span class="ID">tf</span>::<span class="ID">TransformException</span> &amp;<span class="ID">ex</span>) </span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_37">  37</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_37"></span><span class="anchor" id="line-37-1"></span>    {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_38">  38</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_38"></span><span class="anchor" id="line-38-1"></span>      <span class="ID">printf</span> (<span class="String">"</span><span class="String">Failure %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">ex</span>.<span class="ID">what</span>()); <span class="Comment">//Print exception which was caught</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_39">  39</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_39"></span><span class="anchor" id="line-39-1"></span><span class="Comment"></span>    }</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_40">  40</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_40"></span><span class="anchor" id="line-40-1"></span>  };</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_41">  41</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_41"></span><span class="anchor" id="line-41-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_42">  42</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_42"></span><span class="anchor" id="line-42-1"></span>};</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_43">  43</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_43"></span><span class="anchor" id="line-43-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_44">  44</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_44"></span><span class="anchor" id="line-44-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_45">  45</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_45"></span><span class="anchor" id="line-45-1"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> ** <span class="ID">argv</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_46">  46</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_46"></span><span class="anchor" id="line-46-1"></span>{</span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_47">  47</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_47"></span><span class="anchor" id="line-47-1"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">pose_drawer</span><span class="String">"</span>); <span class="Comment">//Init ROS</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_48">  48</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_48"></span><span class="anchor" id="line-48-1"></span><span class="Comment"></span>  <span class="ID">PoseDrawer</span> <span class="ID">pd</span>; <span class="Comment">//Construct class</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_49">  49</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_49"></span><span class="anchor" id="line-49-1"></span><span class="Comment"></span>  <span class="ID">ros</span>::<span class="ID">spin</span>(); <span class="Comment">// Run until interupted </span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a90def7a417261c54548cf28ac710ee50b7f5e70_50">  50</a> </span><span class="LineAnchor" id="CA-a90def7a417261c54548cf28ac710ee50b7f5e70_50"></span><span class="anchor" id="line-50-1"></span><span class="Comment"></span>};</span>
</pre></div></div><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><p class="line867">
</p><h2 id="Explanation">Explanation</h2>
<span class="anchor" id="line-100"></span><p class="line867">
</p><h3 id="Includes">Includes</h3>
<span class="anchor" id="line-101"></span><p class="line862">You must include the tf::MessageFilter headers from the tf package.  As well as the previously used tf and ROS headers.  <span class="anchor" id="line-102"></span><span class="anchor" id="line-1-5"></span><span class="anchor" id="line-2-3"></span><span class="anchor" id="line-3-3"></span><span class="anchor" id="line-4-3"></span><span class="anchor" id="line-5-3"></span><span class="anchor" id="line-6-3"></span><span class="anchor" id="line-7-3"></span><span class="anchor" id="line-1-6"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_1">   1</a> </span><span class="LineAnchor" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_1"></span><span class="anchor" id="line-1-7"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_2">   2</a> </span><span class="LineAnchor" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_2"></span><span class="anchor" id="line-2-4"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "tf</span><span class="Preprc">/</span><span class="Preprc">transform_listener.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_3">   3</a> </span><span class="LineAnchor" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_3"></span><span class="anchor" id="line-3-4"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "tf</span><span class="Preprc">/</span><span class="Preprc">message_filter.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_4">   4</a> </span><span class="LineAnchor" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_4"></span><span class="anchor" id="line-4-4"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "message_filters</span><span class="Preprc">/</span><span class="Preprc">subscriber.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_5">   5</a> </span><span class="LineAnchor" id="CA-c5083a8a5979b7d6f6dafec35a465fdc6b4ed8f9_5"></span><span class="anchor" id="line-5-4"></span><span class="Preprc"></span></span>
</pre></div></div><span class="anchor" id="line-8-3"></span><p class="line874"> <span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span></p><p class="line867">
</p><h3 id="Persistent_Data">Persistent Data</h3>
<span class="anchor" id="line-105"></span><p class="line862">There need to be persistent instances of tf::TransformListener tf::MessageFilter  <span class="anchor" id="line-106"></span><span class="anchor" id="line-1-8"></span><span class="anchor" id="line-2-5"></span><span class="anchor" id="line-3-5"></span><span class="anchor" id="line-4-5"></span><span class="anchor" id="line-5-5"></span><span class="anchor" id="line-6-4"></span><span class="anchor" id="line-7-4"></span><span class="anchor" id="line-8-4"></span><span class="anchor" id="line-9-3"></span><span class="anchor" id="line-1-9"></span><span class="anchor" id="line-2-6"></span><span class="anchor" id="line-3-6"></span><span class="anchor" id="line-4-6"></span><span class="anchor" id="line-5-6"></span><span class="anchor" id="line-6-5"></span><span class="anchor" id="line-7-5"></span><span class="anchor" id="line-8-5"></span><span class="anchor" id="line-9-4"></span><span class="anchor" id="line-10-3"></span><span class="anchor" id="line-11-3"></span><span class="anchor" id="line-12-3"></span><span class="anchor" id="line-13-3"></span><span class="anchor" id="line-14-3"></span><span class="anchor" id="line-15-3"></span><span class="anchor" id="line-16-3"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc\', 16, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc', 16, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_16">  16</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_16"></span><span class="anchor" id="line-1-10"></span><span class="ResWord">private</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_17">  17</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_17"></span><span class="anchor" id="line-2-7"></span>  <span class="ID">message_filters</span>::<span class="ID">Subscriber</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt; <span class="ID">point_sub_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_18">  18</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_18"></span><span class="anchor" id="line-3-7"></span>  <span class="ID">tf</span>::<span class="ID">TransformListener</span> <span class="ID">tf_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_19">  19</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_19"></span><span class="anchor" id="line-4-7"></span>  <span class="ID">tf</span>::<span class="ID">MessageFilter</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt; * <span class="ID">tf_filter_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_20">  20</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_20"></span><span class="anchor" id="line-5-7"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n_</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_21">  21</a> </span><span class="LineAnchor" id="CA-e2b1cdbc3c67d7e565a6a5a53a1927a4d5a212cc_21"></span><span class="anchor" id="line-6-6"></span>  <span class="ID">std</span>::<span class="ID">string</span> <span class="ID">target_frame_</span>;</span>
</pre></div></div><span class="anchor" id="line-10-4"></span><p class="line874"> <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span></p><p class="line867">
</p><h3 id="Constructor">Constructor</h3>
<span class="anchor" id="line-109"></span><p class="line862">When 
starting up the ros message_filters::Subscriber must be initialized with
 the topic.  And the tf::MessageFilter must be initialized with that 
Subscriber object.  The other arguments of note in the MessageFilter 
constructor are the target_frame and callback function.  The target 
frame is the frame into which it will make sure canTransform will 
succeed.  And the callback function is the function which will be called
 when the data is ready.  <span class="anchor" id="line-110"></span><span class="anchor" id="line-1-11"></span><span class="anchor" id="line-2-8"></span><span class="anchor" id="line-3-8"></span><span class="anchor" id="line-4-8"></span><span class="anchor" id="line-5-8"></span><span class="anchor" id="line-6-7"></span><span class="anchor" id="line-7-6"></span><span class="anchor" id="line-8-6"></span><span class="anchor" id="line-9-5"></span><span class="anchor" id="line-1-12"></span><span class="anchor" id="line-2-9"></span><span class="anchor" id="line-3-9"></span><span class="anchor" id="line-4-9"></span><span class="anchor" id="line-5-9"></span><span class="anchor" id="line-6-8"></span><span class="anchor" id="line-7-7"></span><span class="anchor" id="line-8-7"></span><span class="anchor" id="line-9-6"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c\', 9, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c', 9, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_9">   9</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_9"></span><span class="anchor" id="line-1-13"></span>  <span class="ID">PoseDrawer</span>() : <span class="ID">tf_</span>(),  <span class="ID">target_frame_</span>(<span class="String">"</span><span class="String">turtle1</span><span class="String">"</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_10">  10</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_10"></span><span class="anchor" id="line-2-10"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_11">  11</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_11"></span><span class="anchor" id="line-3-10"></span>    <span class="ID">point_sub_</span>.<span class="ID">subscribe</span>(<span class="ID">n_</span>, <span class="String">"</span><span class="String">turtle_point_stamped</span><span class="String">"</span>, <span class="Number">10</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_12">  12</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_12"></span><span class="anchor" id="line-4-10"></span>    <span class="ID">tf_filter_</span> = <span class="ResWord">new</span> <span class="ID">tf</span>::<span class="ID">MessageFilter</span>&lt;<span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt;(<span class="ID">point_sub_</span>, <span class="ID">tf_</span>, <span class="ID">target_frame_</span>, <span class="Number">10</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_13">  13</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_13"></span><span class="anchor" id="line-5-10"></span>    <span class="ID">tf_filter_</span>-&gt;<span class="ID">registerCallback</span>( <span class="ID">boost</span>::<span class="ID">bind</span>(&amp;<span class="ID">PoseDrawer</span>::<span class="ID">msgCallback</span>, <span class="ResWord">this</span>, <span class="ID">_1</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_14">  14</a> </span><span class="LineAnchor" id="CA-92566cdf58d53c9e0852bd14f6a79e15f84d2f2c_14"></span><span class="anchor" id="line-6-9"></span>  } ;</span>
</pre></div></div><span class="anchor" id="line-10-5"></span><p class="line874"> <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span></p><p class="line867">
</p><h3 id="Callback_Method">Callback Method</h3>
<span class="anchor" id="line-113"></span><p class="line862">Once the data is ready, just call <tt class="backtick">transformPose</tt> and print to screen for the tutorial.   <span class="anchor" id="line-114"></span><span class="anchor" id="line-1-14"></span><span class="anchor" id="line-2-11"></span><span class="anchor" id="line-3-11"></span><span class="anchor" id="line-4-11"></span><span class="anchor" id="line-5-11"></span><span class="anchor" id="line-6-10"></span><span class="anchor" id="line-7-8"></span><span class="anchor" id="line-8-8"></span><span class="anchor" id="line-9-7"></span><span class="anchor" id="line-10-6"></span><span class="anchor" id="line-11-4"></span><span class="anchor" id="line-12-4"></span><span class="anchor" id="line-13-4"></span><span class="anchor" id="line-14-4"></span><span class="anchor" id="line-15-4"></span><span class="anchor" id="line-16-4"></span><span class="anchor" id="line-17-3"></span><span class="anchor" id="line-18-2"></span><span class="anchor" id="line-19-2"></span><span class="anchor" id="line-20-2"></span><span class="anchor" id="line-21-2"></span><span class="anchor" id="line-22-2"></span><span class="anchor" id="line-23-2"></span><span class="anchor" id="line-24-2"></span><span class="anchor" id="line-1-15"></span><span class="anchor" id="line-2-12"></span><span class="anchor" id="line-3-12"></span><span class="anchor" id="line-4-12"></span><span class="anchor" id="line-5-12"></span><span class="anchor" id="line-6-11"></span><span class="anchor" id="line-7-9"></span><span class="anchor" id="line-8-9"></span><span class="anchor" id="line-9-8"></span><span class="anchor" id="line-10-7"></span><span class="anchor" id="line-11-5"></span><span class="anchor" id="line-12-5"></span><span class="anchor" id="line-13-5"></span><span class="anchor" id="line-14-5"></span><span class="anchor" id="line-15-5"></span><span class="anchor" id="line-16-5"></span><span class="anchor" id="line-17-4"></span><span class="anchor" id="line-18-3"></span><span class="anchor" id="line-19-3"></span><span class="anchor" id="line-20-3"></span><span class="anchor" id="line-21-3"></span><span class="anchor" id="line-22-3"></span><span class="anchor" id="line-23-3"></span><span class="anchor" id="line-24-3"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f\', 24, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f', 24, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_24">  24</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_24"></span><span class="anchor" id="line-1-16"></span>  <span class="ResWord">void</span> <span class="ID">msgCallback</span>(<span class="ResWord">const</span> <span class="ID">boost</span>::<span class="ID">shared_ptr</span>&lt;<span class="ResWord">const</span> <span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span>&gt;&amp; <span class="ID">point_ptr</span>) </span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_25">  25</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_25"></span><span class="anchor" id="line-2-13"></span>  {</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_26">  26</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_26"></span><span class="anchor" id="line-3-13"></span>    <span class="ID">geometry_msgs</span>::<span class="ID">PointStamped</span> <span class="ID">point_out</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_27">  27</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_27"></span><span class="anchor" id="line-4-13"></span>    <span class="ResWord">try</span> </span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_28">  28</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_28"></span><span class="anchor" id="line-5-13"></span>    {</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_29">  29</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_29"></span><span class="anchor" id="line-6-12"></span>      <span class="ID">tf_</span>.<span class="ID">transformPoint</span>(<span class="ID">target_frame_</span>, *<span class="ID">point_ptr</span>, <span class="ID">point_out</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_30">  30</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_30"></span><span class="anchor" id="line-7-10"></span>      </span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_31">  31</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_31"></span><span class="anchor" id="line-8-10"></span>      <span class="ID">printf</span>(<span class="String">"</span><span class="String">point of turtle 3 in frame of turtle 1 Position(x:%f y:%f z:%f)</span><span class="SPChar">\n</span><span class="String">"</span>, </span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_32">  32</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_32"></span><span class="anchor" id="line-9-9"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">x</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_33">  33</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_33"></span><span class="anchor" id="line-10-8"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">y</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_34">  34</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_34"></span><span class="anchor" id="line-11-6"></span>             <span class="ID">point_out</span>.<span class="ID">point</span>.<span class="ID">z</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_35">  35</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_35"></span><span class="anchor" id="line-12-6"></span>    }</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_36">  36</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_36"></span><span class="anchor" id="line-13-6"></span>    <span class="ResWord">catch</span> (<span class="ID">tf</span>::<span class="ID">TransformException</span> &amp;<span class="ID">ex</span>) </span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_37">  37</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_37"></span><span class="anchor" id="line-14-6"></span>    {</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_38">  38</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_38"></span><span class="anchor" id="line-15-6"></span>      <span class="ID">printf</span> (<span class="String">"</span><span class="String">Failure %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">ex</span>.<span class="ID">what</span>()); <span class="Comment">//Print exception which was caught</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_39">  39</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_39"></span><span class="anchor" id="line-16-6"></span><span class="Comment"></span>    }</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_40">  40</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_40"></span><span class="anchor" id="line-17-5"></span>  };</span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_41">  41</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_41"></span><span class="anchor" id="line-18-4"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_42">  42</a> </span><span class="LineAnchor" id="CA-82523c3706e073fc3ac1aa84f5c5e770fe33583f_42"></span><span class="anchor" id="line-19-4"></span>};</span>
</pre></div></div><span class="anchor" id="line-25-2"></span><p class="line874"> <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span></p><p class="line867">
</p><h2 id="Result">Result</h2>
<span class="anchor" id="line-117"></span><p class="line874">If it's running right you should see streaming data like this. <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span></p><pre><span class="anchor" id="line-1-17"></span>point of turtle 3 in frame of turtle 1 Position(x:-0.603264 y:4.276489 z:0.000000)
<span class="anchor" id="line-2-14"></span>point of turtle 3 in frame of turtle 1 Position(x:-0.598923 y:4.291888 z:0.000000)
<span class="anchor" id="line-3-14"></span>point of turtle 3 in frame of turtle 1 Position(x:-0.594828 y:4.307356 z:0.000000)
<span class="anchor" id="line-4-14"></span>point of turtle 3 in frame of turtle 1 Position(x:-0.590981 y:4.322886 z:0.000000)</pre><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line867"><span class="anchor" id="line-126"></span></p><p class="line867"><span class="anchor" id="line-127"></span></p><p class="line867"><span class="anchor" id="line-128"></span></p><p class="line867"><span class="anchor" id="line-129"></span><span class="anchor" id="bottom"></span></p></div></div>
<div id="pagebottom"></div>
</div>

<p id="pageinfo" class="info" dir="ltr" lang="en">Wiki: tf/Tutorials/Using Stamped datatypes with tf::MessageFilter  (last edited 2016-02-12 14:56:06 by <span title="Spyros Maniatopoulos @ ithacastartupworks.fltg.net[98.159.220.221]"><a class="nonexistent" href="http://wiki.ros.org/Spyros%20Maniatopoulos" title="Spyros Maniatopoulos @ ithacastartupworks.fltg.net[98.159.220.221]">Spyros Maniatopoulos</a></span>)</p>




<div style="margin-top: 9px;" class="footer">
Except where otherwise noted, the ROS wiki is licensed under the <br><a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> | <a href="https://plus.google.com/113789706402978299308" rel="publisher">Find us on Google+</a>
<hr style="margin-top: 10px;">
<div class="row">
  <div class="col-md-4 col-md-offset-4">
<a href="http://www.osrfoundation.org/"><img style="margin-top: -1px;" src="tf_Tutorials_Using%20Stamped%20datatypes%20with%20tf::MessageFilter%20-%20ROS%20Wiki_files/brought_by_horiz.png"><p></p></a>
  </div>
</div>
</div>

  </div> <!-- /#dpage-inner, /#dpage -->





</body></html>